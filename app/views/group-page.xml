<Page xmlns="http://www.nativescript.org/tns.xsd" navigatedTo="pageNavigatedTo">
  <Page.actionBar>
    <ActionBar title="{{ group.title }}">
      <NavigationButton tap="navigateBack" icon="res://ic_arrow_back" />
      <ActionBar.actionItems>
        <ActionItem icon="res://ic_view_info" ios.position="right" tap="infoTap" />
        <ActionItem icon="{{ useWrapLayout ? 'res://ic_list_view' : 'res://ic_wrap_view' }}" ios.position="right" tap="{{ toggleWrapLayout }}"/>
      </ActionBar.actionItems>
    </ActionBar>
  </Page.actionBar>
  <GridLayout rows="auto, *" columns="*">
    <!-- Show New filter -->
    <Button text="{{ showOnlyNew ? 'Show all' : 'Show only new' }}" 
      cssClass="show-new-btn" tap="{{ toggleShowNew }}"/>
    <!-- Examples list -->
    <GridLayout row="1" columns="*" rows="*">
      <ScrollView>
        <Repeater items="{{ examples }}">
          <Repeater.itemTemplate>
            <GridLayout rows="auto, *" columns="auto, *" tap="navigateToExample" cssClass="example-item" 
              visibility="{{ $parents['Repeater'].showOnlyNew, (!$parents['Repeater'].showOnlyNew || isNew) ? 'visible' : 'collapsed' }}">
              <Image rowSpan="2" src="{{ image }}" cssClass="{{ isNew ? 'list-example-image-new' : 'list-example-image' }}" />
              <Image row="1" src="res://ic_new" cssClass="new" visibility="{{ isNew ? 'visible' : 'collapsed' }}" />
              
              <Label col="1" horizontalAlignment="left" text="{{ title }}" cssClass="example-title" />
              <Repeater col="1" row="1" verticalAlignment="top" items="{{ controls }}">
                <Repeater.itemsLayout>
                  <WrapLayout />
                </Repeater.itemsLayout>
                <Repeater.itemTemplate>
                  <Label text="{{ $value }}" cssClass="control" tap="controlTap" />
                </Repeater.itemTemplate>
              </Repeater>
            </GridLayout>
          </Repeater.itemTemplate>
        </Repeater>
      </ScrollView>
    </GridLayout>
  </GridLayout>
</Page>