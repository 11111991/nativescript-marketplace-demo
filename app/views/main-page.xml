<Page xmlns="http://www.nativescript.org/tns.xsd" xmlns:drawer="nativescript-telerik-ui/sidedrawer" loaded="pageLoaded">
  <Page.actionBar>
    <ActionBar title="NativeScript Examples" />
  </Page.actionBar>
  <drawer:SideDrawer>
    <drawer:SideDrawer.drawerContent>
      <StackLayout cssClass="drawer-content">
        <Label cssClass="drawer-item" text="About" />
        <Label cssClass="drawer-item" text="Product Page" />
        <Label cssClass="drawer-item" text="Documentation" />
        <Label cssClass="drawer-item" text="SDK examples" />
        <Label cssClass="drawer-item" text="Send Feedback" />
      </StackLayout>
    </drawer:SideDrawer.drawerContent>
    <drawer:SideDrawer.mainContent>
      <GridLayout rows="auto, auto, *" columns="*">
        <!-- Segmented bar navigation -->
        <SegmentedBar selectedIndex="{{ selectedScreen }}">
          <SegmentedBar.items>
            <SegmentedBarItem title="Featured examples" />
            <SegmentedBarItem title="All controls" />
          </SegmentedBar.items>
        </SegmentedBar>
        <!-- Show New filter -->
        <Button row="1" text="{{ showOnlyNew ? 'Show all' : 'Show only new' }}" 
          cssClass="show-new-btn" tap="{{ toggleShowNew }}"/>
        
        <!-- Featured examples -->
        <GridLayout visibility="{{ selectedScreen===0 ? 'visible' : 'collapsed' }}" row="2" columns="*" rows="*">
          <ScrollView>
            <Repeater items="{{ featuredExamples }}">
              <Repeater.itemTemplate>
                <GridLayout rows="auto, auto, *" columns="auto, *" tap="navigateToExample" cssClass="example-item" 
                  visibility="{{ $parents['Repeater'].showOnlyNew, (!$parents['Repeater'].showOnlyNew || isNew) ? 'visible' : 'collapsed' }}">
                  <Image rowSpan="3" src="{{ image }}" cssClass="list-example-image" />
                  <Label col="1" horizontalAlignment="left" text="{{ title }}" cssClass="example-title" />
                  <Label col="1" horizontalAlignment="right" text="NEW" cssClass="new" visibility="{{ isNew ? 'visible' : 'collapsed' }}" />
                  <TextView col="1" row="1" text="{{ info }}" editable="false" cssClass="info" tap="navigateToExample"/>
                  <Repeater col="1" row="2" verticalAlignment="bottom" items="{{ controls }}">
                    <Repeater.itemsLayout>
                      <WrapLayout />
                    </Repeater.itemsLayout>
                    <Repeater.itemTemplate>
                      <Label text="{{ $value }}" cssClass="control" tap="controlTap" />
                    </Repeater.itemTemplate>
                  </Repeater>
                </GridLayout>
              </Repeater.itemTemplate>
            </Repeater>
          </ScrollView>
        </GridLayout>
        <!-- All examples -->
        <GridLayout visibility="{{ selectedScreen===1 ? 'visible' : 'collapsed' }}" row="2" columns="*" rows="*">
          <Repeater items="{{ exampleGroups }}">
            <Repeater.itemTemplate>
              <StackLayout tap="navigateToExampleGroup" orientation="horizontal" margin="10"
                visibility="{{ $parents['Repeater'].showOnlyNew, (!$parents['Repeater'].showOnlyNew || isNew) ? 'visible' : 'collapsed' }}">
                <Label text="{{ title }}" cssClass="example-title" />
                <Label text="NEW" cssClass="new" visibility="{{ isNew ? 'visible' : 'collapsed' }}" />
              </StackLayout>
            </Repeater.itemTemplate>
          </Repeater>
        </GridLayout>
      </GridLayout>
    </drawer:SideDrawer.mainContent>
  </drawer:SideDrawer>
</Page>